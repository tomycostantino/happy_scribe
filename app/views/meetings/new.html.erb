<div class="mx-auto w-full max-w-lg">
  <%= auth_page_title("New Meeting") %>

  <%= card class: "p-6" do %>
    <%= form_with(model: @meeting, class: "space-y-5") do |f| %>
      <%= form_errors(@meeting) %>

      <div>
        <%= f.label :title, class: "#{form_label_class} mb-1" %>
        <%= f.text_field :title,
              required: true,
              placeholder: "e.g. Weekly standup",
              class: form_input_class %>
      </div>

      <div>
        <%= f.label :language, class: "#{form_label_class} mb-1" %>
        <%= f.select :language,
              [["English (US)", "en-US"], ["English (UK)", "en-GB"], ["Spanish", "es"], ["French", "fr"], ["German", "de"], ["Czech", "cs"]],
              {},
              class: form_select_class %>
      </div>

      <div data-controller="dropzone">
        <%= f.label :recording, "Audio file", class: "#{form_label_class} mb-1" %>
        <div data-dropzone-target="area"
             class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/50 transition-colors">
          <%= upload_icon(css_class: "mx-auto h-10 w-10 text-gray-400 mb-3") %>
          <p data-dropzone-target="prompt" class="text-sm text-gray-500">
            Drag & drop your audio file here, or <span class="font-medium text-indigo-600">click to browse</span>
          </p>
          <p class="text-xs text-gray-400 mt-1">Audio or video files accepted</p>
          <%= f.file_field :recording,
                accept: "audio/*,video/*",
                class: "hidden",
                data: { dropzone_target: "input", action: "change->dropzone#picked" } %>
        </div>
      </div>

      <div class="flex items-center gap-3 pt-2">
        <%= f.submit "Upload & Transcribe",
              class: primary_button_class %>
        <%= cancel_link(meetings_path) %>
      </div>
    <% end %>
  <% end %>
</div>
