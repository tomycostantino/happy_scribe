<div id="message_<%= message.id %>" class="rounded-md px-3 py-2 <%= message.role == 'user' ? 'bg-indigo-50 ml-8' : 'bg-gray-50 mr-8' %>">
  <div class="text-xs font-medium mb-1 <%= message.role == 'user' ? 'text-indigo-600' : 'text-gray-500' %>">
    <%= message.role == "user" ? "You" : "Assistant" %>
  </div>
  <% if message.role == "user" %>
    <div id="message_<%= message.id %>_content" class="text-sm text-gray-700"><%= simple_format(message.content || "") %></div>
  <% else %>
    <div id="message_<%= message.id %>_content" class="text-sm text-gray-700 prose prose-sm max-w-none" data-controller="markdown"><%= message.content || "" %></div>
  <% end %>
  <% if message.tool_call? %>
    <%= render "messages/tool_calls", message: message %>
  <% end %>
</div>